<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Babylon Admin</title>
    <link rel="stylesheet" href="css/admin.css?v=1768238956">
</head>
<body>
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">B</span>
                    <span class="logo-text">Babylon Admin</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active" data-admin-only>
                        <a href="#dashboard" data-section="dashboard">
                            <span class="nav-icon">&#9632;</span>
                            <span class="nav-text" data-i18n="home">–ì–ª–∞–≤–Ω–∞—è</span>
                        </a>
                    </li>
                    <li class="nav-item" data-admin-only>
                        <a href="#contacts" data-section="contacts">
                            <span class="nav-icon">&#9742;</span>
                            <span class="nav-text" data-i18n="contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
                        </a>
                    </li>
                    <li class="nav-item" data-admin-only>
                        <a href="#categories" data-section="categories">
                            <span class="nav-icon">&#9776;</span>
                            <span class="nav-text" data-i18n="categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</span>
                        </a>
                    </li>
                    <li class="nav-item" data-admin-only>
                        <a href="#hexagons" data-section="hexagons">
                            <span class="nav-icon">‚¨°</span>
                            <span class="nav-text" data-i18n="nav.hexagons">Hexagons</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#products" data-section="products">
                            <span class="nav-icon">&#128230;</span>
                            <span class="nav-text" data-i18n="productsServices">–¢–æ–≤–∞—Ä—ã –∏ —É—Å–ª—É–≥–∏</span>
                        </a>
                    </li>
                    <li class="nav-item" data-admin-only>
                        <a href="#orders" data-section="orders">
                            <span class="nav-icon">&#9993;</span>
                            <span class="nav-text" data-i18n="orders">–ó–∞—è–≤–∫–∏</span>
                            <span class="nav-badge" id="ordersCount" style="display: none;">0</span>
                        </a>
                    </li>
                    <li class="nav-item" data-admin-only>
                        <a href="#settings" data-section="settings">
                            <span class="nav-icon">&#9881;</span>
                            <span class="nav-text" data-i18n="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                        </a>
                    </li>
                    <li class="nav-item" data-admin-only>
                        <a href="#users" data-section="users">
                            <span class="nav-icon">&#128101;</span>
                            <span class="nav-text" data-i18n="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                        </a>
                    </li>
                    <li class="nav-item" data-admin-only>
                        <a href="#audit" data-section="audit">
                            <span class="nav-icon">&#128203;</span>
                            <span class="nav-text" data-i18n="auditLog">–ñ—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="sidebar-footer">
                <button id="logoutBtn" class="btn btn-logout">
                    <span class="nav-icon">&#10140;</span>
                    <span data-i18n="logout">–í—ã–π—Ç–∏</span>
                </button>
            </div>
        </aside>

        <!-- Main content -->
        <main class="main-content">
            <header class="top-bar">
                <button class="sidebar-toggle" id="sidebarToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="top-bar-title">
                    <select id="siteSelector" class="site-selector">
                        <option value="babylon" data-i18n="babylonSelector">Babylon - –°–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∞</option>
                        <!-- HIDDEN 2026-01-12: Mattress site deactivated -->
                        <!-- <option value="mattress" data-i18n="mattressSelector">–ú–∞—Ç—Ä–∞—Å—ã</option> -->
                        <!-- To restore: uncomment line above -->
                    </select>
                    <h1 id="pageTitle" data-i18n="pageTitle">–ì–ª–∞–≤–Ω–∞—è</h1>
                </div>
                <div class="lang-switcher">
                    <button class="lang-btn active" data-lang="ru">RU</button>
                </div>
                <div class="top-bar-user">
                    <span id="userName">admin</span>
                </div>
            </header>

            <div class="content-wrapper">
                <!-- Dashboard Section -->
                <section id="section-dashboard" class="content-section active">
                    <div class="dashboard-welcome">
                        <h2 data-i18n="welcome">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
                        <p data-i18n="selectSection">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é —Å–ª–µ–≤–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã</p>
                    </div>

                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon">&#9881;</div>
                            <div class="stat-info">
                                <span class="stat-value" id="statProducts">0</span>
                                <span class="stat-label" data-i18n="productsCount">–¢–æ–≤–∞—Ä–æ–≤</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">&#9776;</div>
                            <div class="stat-info">
                                <span class="stat-value" id="statCategories">0</span>
                                <span class="stat-label" data-i18n="categoriesCount">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">&#9993;</div>
                            <div class="stat-info">
                                <span class="stat-value" id="statOrders">0</span>
                                <span class="stat-label" data-i18n="ordersCount">–ó–∞—è–≤–æ–∫</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-sites">
                        <h3 data-i18n="managedSites">–£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Å–∞–π—Ç—ã</h3>
                        <div class="sites-grid" id="sitesGrid"></div>
                    </div>

                    <!-- Statistics Section -->
                    <div class="dashboard-charts">
                        <h3 data-i18n="statistics">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div class="charts-grid">
                            <div class="chart-card">
                                <h4 data-i18n="ordersChart">–ó–∞—è–≤–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</h4>
                                <canvas id="ordersChart"></canvas>
                            </div>
                            <div class="chart-card">
                                <h4 data-i18n="popularProducts">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h4>
                                <div id="popularProductsList" class="popular-products-list"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Contacts Section -->
                <section id="section-contacts" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="contactsManagement">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏</h2>
                        <p data-i18n="contactsDescription">–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–∞ Babylon Aleks Group</p>
                    </div>

                    <div class="card">
                        <form id="contactsForm" class="form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="contactPhone" data-i18n="phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                                    <input type="tel" id="contactPhone" name="phone" placeholder="+48 XXX XXX XXX" required>
                                </div>
                                <div class="form-group">
                                    <label for="contactEmail">Email *</label>
                                    <input type="email" id="contactEmail" name="email" placeholder="info@example.com" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="contactAddress" data-i18n="addressCity">–ê–¥—Ä–µ—Å (–≥–æ—Ä–æ–¥, —Å—Ç—Ä–∞–Ω–∞)</label>
                                    <input type="text" id="contactAddress" name="address" placeholder="90-448 Lodz, Polska">
                                </div>
                                <div class="form-group">
                                    <label for="contactAddress2" data-i18n="addressStreet">–ê–¥—Ä–µ—Å (—É–ª–∏—Ü–∞)</label>
                                    <input type="text" id="contactAddress2" name="address_line2" placeholder="ul. Example 1/2">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="contactNip">NIP</label>
                                    <input type="text" id="contactNip" name="nip" placeholder="1234567890">
                                </div>
                                <div class="form-group">
                                    <label for="contactTelegram">Telegram</label>
                                    <input type="url" id="contactTelegram" name="telegram" placeholder="https://t.me/username">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="contactPerson" data-i18n="contactPerson">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</label>
                                <input type="text" id="contactPerson" name="contact_person" placeholder="–ò–º—è –§–∞–º–∏–ª–∏—è">
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <span class="btn-text" data-i18n="saveChanges">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</span>
                                    <span class="btn-loader" style="display: none;">
                                        <span class="spinner"></span>
                                    </span>
                                </button>
                                <span id="contactsSaveStatus" class="save-status"></span>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Hexagons Section -->
                <section id="section-hexagons" class="content-section">
                    <div class="section-header">
                        <h2>Homepage Hexagons</h2>
                        <p>Manage hexagon categories displayed on homepage</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Hexagons</h3>
                            <button class="btn btn-primary btn-sm" data-action="showHexagonModal">+ Add Hexagon</button>
                        </div>
                        <div id="hexagonsList" class="categories-list"></div>
                    </div>

                    <!-- Hexagon Modal -->
                    <div id="hexagonModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 id="hexagonModalTitle">Add Hexagon</h3>
                                <button class="modal-close" data-action="closeHexagonModal">&times;</button>
                            </div>
                            <form id="hexagonForm">
                                <div class="modal-body">
                                    <input type="hidden" id="hexagonId">

                                    <div class="form-group">
                                        <label for="hexagonKey">
                                            <span class="key-icon">üîë</span>
                                            <span>System Key</span>
                                        </label>
                                        <input type="text" id="hexagonKey" placeholder="ebikes" required>
                                        <small class="form-hint">Unique identifier for the hexagon</small>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="hexagonNameEn">
                                                <span class="lang-flag">üá¨üáß</span>
                                                <span>Name EN *</span>
                                            </label>
                                            <input type="text" id="hexagonNameEn" placeholder="E-bikes" required>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="hexagonNameDe">
                                                <span class="lang-flag">üá©üá™</span>
                                                <span>Name DE</span>
                                            </label>
                                            <input type="text" id="hexagonNameDe" placeholder="E-Bikes">
                                        </div>
                                        <div class="form-group">
                                            <label for="hexagonNameRu">
                                                <span class="lang-flag">üá∑üá∫</span>
                                                <span>Name RU</span>
                                            </label>
                                            <input type="text" id="hexagonNameRu" placeholder="–≠–ª–µ–∫—Ç—Ä–æ-–≤–µ–ª–æ—Å–∏–ø–µ–¥—ã">
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="hexagonIcon">
                                                <span class="icon-label">üî¢</span>
                                                <span>Icon Number</span>
                                            </label>
                                            <input type="number" id="hexagonIcon" min="1" max="10" placeholder="1">
                                            <small class="form-hint">Number from 1 to 10</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-action="closeHexagonModal">Cancel</button>
                                    <button type="submit" class="btn btn-primary">Save</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Categories Section -->
                <section id="section-categories" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="categoriesManagement">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</h2>
                        <p data-i18n="categoriesDescription">–î–æ–±–∞–≤–ª—è–π—Ç–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 data-i18n="categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                            <button class="btn btn-primary btn-sm" data-action="showCategoryModal" data-i18n="add">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                        <div id="categoriesList" class="categories-list"></div>
                    </div>

                    <!-- Category Modal -->
                    <div id="categoryModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 id="categoryModalTitle" data-i18n="addCategory">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
                                <button class="modal-close" data-action="closeCategoryModal">&times;</button>
                            </div>
                            <form id="categoryForm">
                                <div class="modal-body">
                                    <input type="hidden" id="categoryId">

                                    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π) - –ü–ï–†–í–û–ï -->
                                    <div class="form-group">
                                        <label for="categoryNameEn">
                                            <span class="lang-flag">üá¨üáß</span>
                                            <span data-i18n="nameEN">–ù–∞–∑–≤–∞–Ω–∏–µ EN *</span>
                                        </label>
                                        <input type="text" id="categoryNameEn" placeholder="Scooter rental" required>
                                        <small class="form-hint" data-i18n="categoryNameEnHint">–û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</small>
                                    </div>

                                    <!-- –°–∏—Å—Ç–µ–º–Ω—ã–π –∫–ª—é—á - –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è -->
                                    <div class="form-group">
                                        <label for="categoryKey">
                                            <span class="key-icon">üîë</span>
                                            <span data-i18n="systemKey">–°–∏—Å—Ç–µ–º–Ω—ã–π –∫–ª—é—á</span>
                                        </label>
                                        <input type="text" id="categoryKey" placeholder="scooter-rental" readonly class="input-readonly">
                                        <small class="form-hint" data-i18n="categoryKeyHint">–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è</small>
                                        <small class="form-hint form-hint-error" id="categoryKeyError" style="display: none;"></small>
                                    </div>

                                    <div class="form-divider">
                                        <span data-i18n="translations">–ü–µ—Ä–µ–≤–æ–¥—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</span>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="categoryNameEn">
                                                <span class="lang-flag">üá¨üáß</span>
                                                <span data-i18n="nameEN">–ù–∞–∑–≤–∞–Ω–∏–µ EN</span>
                                            </label>
                                            <input type="text" id="categoryNameEn" placeholder="Scooter rental">
                                        </div>
                                        <div class="form-group">
                                            <label for="categoryNameDe">
                                                <span class="lang-flag">üá©üá™</span>
                                                <span data-i18n="nameDE">–ù–∞–∑–≤–∞–Ω–∏–µ DE</span>
                                            </label>
                                            <input type="text" id="categoryNameDe" placeholder="Rollerverleih">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="categoryNameRu">
                                                <span class="lang-flag">üá∑üá∫</span>
                                                <span data-i18n="nameRU">–ù–∞–∑–≤–∞–Ω–∏–µ RU</span>
                                            </label>
                                            <input type="text" id="categoryNameRu" placeholder="–ê—Ä–µ–Ω–¥–∞ —Å–∞–º–æ–∫–∞—Ç–æ–≤">
                                        </div>
                                        <div class="form-group">
                                            <label for="categoryIcon">
                                                <span class="icon-label">üì∑</span>
                                                <span data-i18n="iconNumber">–ù–æ–º–µ—Ä –∏–∫–æ–Ω–∫–∏</span>
                                            </label>
                                            <input type="text" id="categoryIcon" placeholder="9" maxlength="2">
                                            <small class="form-hint" data-i18n="iconHint">–ß–∏—Å–ª–æ –æ—Ç 1 –¥–æ 10</small>
                                        </div>
                                    </div>

                                    <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
                                    <div class="category-preview" id="categoryPreview">
                                        <div class="preview-title" data-i18n="preview">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</div>
                                        <div class="preview-card">
                                            <span class="preview-icon" id="previewIcon">9</span>
                                            <div class="preview-names">
                                                <strong id="previewNamePl">-</strong>
                                                <small id="previewKey">-</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-action="closeCategoryModal" data-i18n="cancel">–û—Ç–º–µ–Ω–∞</button>
                                    <button type="submit" class="btn btn-primary" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Products Section -->
                <section id="section-products" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="productsManagement">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ —É—Å–ª—É–≥–∞–º–∏</h2>
                        <p data-i18n="productsDescription">–î–æ–±–∞–≤–ª—è–π—Ç–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ —É—Å–ª—É–≥</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="products-filter">
                                <select id="productCategoryFilter" class="filter-select">
                                    <option value="" data-i18n="allCategories">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                                </select>
                            </div>
                            <button class="btn btn-primary btn-sm" data-action="showProductModal" data-i18n="add">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                        <div id="productsList" class="products-grid"></div>
                    </div>

                    <!-- Product Modal -->
                    <div id="productModal" class="modal">
                        <div class="modal-content modal-lg">
                            <div class="modal-header">
                                <h3 id="productModalTitle" data-i18n="addProduct">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä/—É—Å–ª—É–≥—É</h3>
                                <button class="modal-close" data-action="closeProductModal">&times;</button>
                            </div>
                            <form id="productForm" enctype="multipart/form-data">
                                <div class="modal-body">
                                    <input type="hidden" id="productId">

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="productKey" data-i18n="key">–ö–ª—é—á (–∞–Ω–≥–ª.) *</label>
                                            <input type="text" id="productKey" placeholder="mini-excavator-cat" required>
                                        </div>
                                        <div class="form-group">
                                            <label for="productCategory" data-i18n="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                                            <select id="productCategory">
                                                <option value="" data-i18n="selectCategory">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                                            </select>
                                        </div>
                                        <div class="form-group" id="subcategoryTypeGroup" style="display:none;">
                                            <label for="productSubcategoryType">–¢–∏–ø –∫—É–∑–æ–≤–∞ (–¥–ª—è –º–∞—à–∏–Ω)</label>
                                            <select id="productSubcategoryType">
                                                <option value="">-</option>
                                                <option value="sedan">Sedan</option>
                                                <option value="hatchback">Hatchback</option>
                                                <option value="universal">Universal</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="productPrice" data-i18n="price">–¶–µ–Ω–∞ (–∑–∞ –¥–µ–Ω—å)</label>
                                            <input type="text" id="productPrice" placeholder="–æ—Ç 500 z≈Ç">
                                        </div>
                                        <div class="form-group">
                                            <label data-i18n="image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                                            <div class="image-upload">
                                                <input type="file" id="productImage" accept="image/*" id="productImage">
                                                <div id="productImagePreview" class="image-preview"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="lang-tabs">
                                        <button type="button" class="lang-tab active" data-action="switchProductLang" data-lang="en">EN</button>
                                        <button type="button" class="lang-tab" data-action="switchProductLang" data-lang="de">DE</button>
                                        <button type="button" class="lang-tab" data-action="switchProductLang" data-lang="ru">RU</button>
                                    </div>

                                    <div id="productLangEn" class="lang-content">
                                        <div class="form-group">
                                            <label>Title (EN)</label>
                                            <input type="text" id="productTitleEn">
                                        </div>
                                        <div class="form-group">
                                            <label>Subtitle (EN)</label>
                                            <input type="text" id="productSubtitleEn">
                                        </div>
                                        <div class="form-group">
                                            <label>Description (EN)</label>
                                            <textarea id="productDescriptionEn" rows="3"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label>Advantages (EN)</label>
                                            <textarea id="productAdvantagesEn" rows="2" placeholder="One per line"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label>Specs (EN)</label>
                                            <textarea id="productSpecsEn" rows="2" placeholder="Name: Value (each on new line)"></textarea>
                                        </div>
                                    </div>

                                    <div id="productLangDe" class="lang-content">
                                        <div class="form-group">
                                            <label>Titel (DE)</label>
                                            <input type="text" id="productTitleDe">
                                        </div>
                                        <div class="form-group">
                                            <label>Untertitel (DE)</label>
                                            <input type="text" id="productSubtitleDe">
                                        </div>
                                        <div class="form-group">
                                            <label>Beschreibung (DE)</label>
                                            <textarea id="productDescriptionDe" rows="3"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label>Vorteile (DE)</label>
                                            <textarea id="productAdvantagesDe" rows="2" placeholder="Einer pro Zeile"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label>Spezifikationen (DE)</label>
                                            <textarea id="productSpecsDe" rows="2" placeholder="Name: Wert (jede auf neuer Zeile)"></textarea>
                                        </div>
                                    </div>

                                    <div id="productLangRu" class="lang-content">
                                        <div class="form-group">
                                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ (RU)</label>
                                            <input type="text" id="productTitleRu">
                                        </div>
                                        <div class="form-group">
                                            <label>–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ (RU)</label>
                                            <input type="text" id="productSubtitleRu">
                                        </div>
                                        <div class="form-group">
                                            <label>–û–ø–∏—Å–∞–Ω–∏–µ (RU)</label>
                                            <textarea id="productDescriptionRu" rows="3"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (RU)</label>
                                            <textarea id="productAdvantagesRu" rows="2" placeholder="–û–¥–Ω–æ –Ω–∞ —Å—Ç—Ä–æ–∫—É"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (RU)</label>
                                            <textarea id="productSpecsRu" rows="2" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ: –ó–Ω–∞—á–µ–Ω–∏–µ (–∫–∞–∂–¥–æ–µ –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ)"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-action="closeProductModal" data-i18n="cancel">–û—Ç–º–µ–Ω–∞</button>
                                    <button type="submit" class="btn btn-primary" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Orders Section -->
                <section id="section-orders" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="ordersHistory">–ò—Å—Ç–æ—Ä–∏—è –∑–∞—è–≤–æ–∫</h2>
                        <p data-i18n="ordersDescription">–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ —Å —Å–∞–π—Ç–∞</p>
                    </div>

                    <div class="orders-stats">
                        <div class="stat-card stat-new">
                            <div class="stat-icon">&#128276;</div>
                            <div class="stat-info">
                                <span class="stat-value" id="ordersStatNew">0</span>
                                <span class="stat-label" data-i18n="new">–ù–æ–≤—ã–µ</span>
                            </div>
                        </div>
                        <div class="stat-card stat-progress">
                            <div class="stat-icon">&#9881;</div>
                            <div class="stat-info">
                                <span class="stat-value" id="ordersStatProgress">0</span>
                                <span class="stat-label" data-i18n="inProgress">–í —Ä–∞–±–æ—Ç–µ</span>
                            </div>
                        </div>
                        <div class="stat-card stat-done">
                            <div class="stat-icon">&#10003;</div>
                            <div class="stat-info">
                                <span class="stat-value" id="ordersStatDone">0</span>
                                <span class="stat-label" data-i18n="completed">–ó–∞–≤–µ—Ä—à–µ–Ω—ã</span>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="orders-filter">
                                <input type="text" id="orderSearchInput" class="filter-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É, email..." data-i18n-placeholder="searchOrders">
                                <select id="orderStatusFilter" class="filter-select">
                                    <option value="all" data-i18n="allStatuses">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                    <option value="new" data-i18n="new">–ù–æ–≤—ã–µ</option>
                                    <option value="in_progress" data-i18n="inProgress">–í —Ä–∞–±–æ—Ç–µ</option>
                                    <option value="completed" data-i18n="completed">–ó–∞–≤–µ—Ä—à–µ–Ω—ã</option>
                                </select>
                            </div>
                            <span class="orders-total" id="ordersTotal" data-i18n="total">–í—Å–µ–≥–æ: 0</span>
                        </div>
                        <div id="ordersList" class="orders-table-container">
                            <table class="orders-table">
                                <thead>
                                    <tr>
                                        <th data-i18n="date">–î–∞—Ç–∞</th>
                                        <th data-i18n="name">–ò–º—è</th>
                                        <th data-i18n="phone">–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                        <th data-i18n="period">–ü–µ—Ä–∏–æ–¥</th>
                                        <th data-i18n="status">–°—Ç–∞—Ç—É—Å</th>
                                        <th data-i18n="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody id="ordersTableBody"></tbody>
                            </table>
                        <div class="pagination-controls" id="ordersPagination" style="display: none;">
                            <button id="ordersPrevBtn" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
                            <span id="ordersPageInfo" class="page-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1</span>
                            <button id="ordersNextBtn" class="btn btn-secondary">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
                        </div>
                        </div>
                    </div>

                    <!-- Order Details Modal -->
                    <div id="orderModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 data-i18n="orderDetails">–î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏</h3>
                                <button class="modal-close" data-action="closeOrderModal">&times;</button>
                            </div>
                            <div class="modal-body">
                                <div class="order-details">
                                    <div class="order-detail-row">
                                        <span class="label" data-i18n="dateLabel">–î–∞—Ç–∞:</span>
                                        <span id="orderDetailDate"></span>
                                    </div>
                                    <div class="order-detail-row">
                                        <span class="label" data-i18n="nameLabel">–ò–º—è:</span>
                                        <span id="orderDetailName"></span>
                                    </div>
                                    <div class="order-detail-row">
                                        <span class="label" data-i18n="phoneLabel">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                                        <span id="orderDetailPhone"></span>
                                    </div>
                                    <div class="order-detail-row">
                                        <span class="label">Email:</span>
                                        <span id="orderDetailEmail"></span>
                                    </div>
                                    <div class="order-detail-row">
                                        <span class="label" data-i18n="rentalPeriod">–ü–µ—Ä–∏–æ–¥ –∞—Ä–µ–Ω–¥—ã:</span>
                                        <span id="orderDetailPeriod"></span>
                                    </div>
                                    <div class="order-detail-row">
                                        <span class="label" data-i18n="pageLabel">–°—Ç—Ä–∞–Ω–∏—Ü–∞:</span>
                                        <span id="orderDetailPage"></span>
                                    </div>
                                    <div class="order-detail-row">
                                        <span class="label" data-i18n="productLabel">–¢–æ–≤–∞—Ä:</span>
                                        <span id="orderDetailProduct"></span>
                                    </div>
                                    <div class="order-detail-row">
                                        <span class="label" data-i18n="commentLabel">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</span>
                                        <span id="orderDetailComment"></span>
                                    </div>
                                    <div class="order-detail-row">
                                        <span class="label" data-i18n="statusLabel">–°—Ç–∞—Ç—É—Å:</span>
                                        <select id="orderDetailStatus" class="filter-select">
                                            <option value="new" data-i18n="statusNew">–ù–æ–≤–∞—è</option>
                                            <option value="in_progress" data-i18n="statusInProgress">–í —Ä–∞–±–æ—Ç–µ</option>
                                            <option value="completed" data-i18n="statusCompleted">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                                        </select>
                                    </div>
                                    <div class="order-detail-row order-notes-row">
                                        <span class="label" data-i18n="notesLabel">–ó–∞–º–µ—Ç–∫–∏:</span>
                                        <textarea id="orderDetailNotes" class="order-notes-textarea" placeholder="–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ –∑–∞—è–≤–∫–µ..." rows="3"></textarea>
                                        <small class="form-hint" data-i18n="notesHint">–¢–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</small>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-action="deleteCurrentOrder" data-i18n="delete">–£–¥–∞–ª–∏—Ç—å</button>
                                <button type="button" class="btn btn-primary" data-action="saveOrderStatus" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="section-settings" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                        <p data-i18n="settingsDescription">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>Telegram Bot</h3>
                        </div>
                        <form id="settingsForm">
                            <div class="form-group">
                                <label for="telegramBotToken">Bot Token</label>
                                <input type="text" id="telegramBotToken" placeholder="123456789:ABCdefGHIjklMNOpqrsTUVwxyz">
                                <small class="form-hint" data-i18n="botTokenHint">–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —É @BotFather –≤ Telegram</small>
                            </div>
                            <div class="form-group">
                                <label for="telegramChatId">Chat ID</label>
                                <input type="text" id="telegramChatId" placeholder="-1001234567890">
                                <small class="form-hint" data-i18n="chatIdHint">ID —á–∞—Ç–∞ –∏–ª–∏ –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞—è–≤–æ–∫</small>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button type="button" class="btn btn-secondary" data-action="testTelegram" data-i18n="testSend">–¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏</button>
                                <span id="settingsSaveStatus" class="save-status"></span>
                            </div>
                        </form>
                    </div>

                    <div class="card" style="margin-top: 20px;">
                        <div class="card-header">
                            <h3 data-i18n="setupInstructions">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ</h3>
                        </div>
                        <div class="settings-help">
                            <ol>
                                <li data-i18n="instruction1">–û—Ç–∫—Ä–æ–π—Ç–µ <strong>@BotFather</strong> –≤ Telegram</li>
                                <li data-i18n="instruction2">–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É <code>/newbot</code></li>
                                <li data-i18n="instruction3">–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞</li>
                                <li data-i18n="instruction4">–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏–ª–∏ –∫–∞–Ω–∞–ª</li>
                                <li data-i18n="instruction5">–ü–æ–ª—É—á–∏—Ç–µ Chat ID (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @userinfobot)</li>
                                <li data-i18n="instruction6">–í—Å—Ç–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º—É –≤—ã—à–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏"</li>
                            </ol>
                        </div>
                    </div>
                </section>

                <!-- Users Section (Admin Only) -->
                <section id="section-users" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="usersManagement">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                        <p data-i18n="usersDescription">–î–æ–±–∞–≤–ª—è–π—Ç–µ –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å–∏—Å—Ç–µ–º—ã</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 data-i18n="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                            <button class="btn btn-primary btn-sm" data-action="showUserModal" data-i18n="add">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                        <div id="usersList" class="users-table-container">
                            <table class="users-table">
                                <thead>
                                    <tr>
                                        <th data-i18n="login">–õ–æ–≥–∏–Ω</th>
                                        <th data-i18n="role">–†–æ–ª—å</th>
                                        <th data-i18n="created">–°–æ–∑–¥–∞–Ω</th>
                                        <th data-i18n="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody"></tbody>
                            </table>
                        <div class="pagination-controls" id="ordersPagination" style="display: none;">
                            <button id="ordersPrevBtn" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
                            <span id="ordersPageInfo" class="page-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1</span>
                            <button id="ordersNextBtn" class="btn btn-secondary">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
                        </div>
                        </div>
                    </div>

                    <!-- User Modal -->
                    <div id="userModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 id="userModalTitle" data-i18n="addUser">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                                <button class="modal-close" data-action="closeUserModal">&times;</button>
                            </div>
                            <form id="userForm">
                                <div class="modal-body">
                                    <input type="hidden" id="userId">
                                    <div class="form-group">
                                        <label for="userUsername" data-i18n="loginLabel">–õ–æ–≥–∏–Ω *</label>
                                        <input type="text" id="userUsername" placeholder="username" required>
                                    </div>
                                    <div class="form-group" id="userPasswordGroup">
                                        <label for="userPassword" data-i18n="passwordLabel">–ü–∞—Ä–æ–ª—å *</label>
                                        <input type="password" id="userPassword" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" minlength="6">
                                    </div>
                                    <div class="form-group">
                                        <label for="userRole" data-i18n="roleLabel">–†–æ–ª—å *</label>
                                        <select id="userRole" required>
                                            <option value="admin" data-i18n="administrator">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                                            <option value="accountant" data-i18n="accountant">–ë—É—Ö–≥–∞–ª—Ç–µ—Ä</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-action="closeUserModal" data-i18n="cancel">–û—Ç–º–µ–Ω–∞</button>
                                    <button type="submit" class="btn btn-primary" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Password Change Modal -->
                    <div id="passwordModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 data-i18n="changePassword">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</h3>
                                <button class="modal-close" data-action="closePasswordModal">&times;</button>
                            </div>
                            <form id="passwordForm">
                                <div class="modal-body">
                                    <input type="hidden" id="passwordUserId">
                                    <div class="form-group">
                                        <label for="newPassword" data-i18n="newPassword">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å *</label>
                                        <input type="password" id="newPassword" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" minlength="6" required>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-action="closePasswordModal" data-i18n="cancel">–û—Ç–º–µ–Ω–∞</button>
                                    <button type="submit" class="btn btn-primary" data-i18n="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Audit Log Section (Admin Only) -->
                <section id="section-audit" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="auditLog">–ñ—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π</h2>
                        <p data-i18n="auditDescription">–ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="audit-filters">
                                <select id="auditActionFilter" class="filter-select">
                                    <option value="" data-i18n="allActions">–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è</option>
                                </select>
                                <select id="auditEntityFilter" class="filter-select">
                                    <option value="" data-i18n="allEntities">–í—Å–µ –æ–±—ä–µ–∫—Ç—ã</option>
                                </select>
                            </div>
                            <button class="btn btn-secondary btn-sm" onclick="loadAuditLog()" data-i18n="refresh">–û–±–Ω–æ–≤–∏—Ç—å</button>
                        </div>
                        <div id="auditLogList" class="audit-log-container">
                            <table class="audit-table">
                                <thead>
                                    <tr>
                                        <th data-i18n="date">–î–∞—Ç–∞</th>
                                        <th data-i18n="user">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                        <th data-i18n="action">–î–µ–π—Å—Ç–≤–∏–µ</th>
                                        <th data-i18n="object">–û–±—ä–µ–∫—Ç</th>
                                        <th data-i18n="details">–î–µ—Ç–∞–ª–∏</th>
                                    </tr>
                                </thead>
                                <tbody id="auditTableBody"></tbody>
                            </table>
                        <div class="pagination-controls" id="ordersPagination" style="display: none;">
                            <button id="ordersPrevBtn" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
                            <span id="ordersPageInfo" class="page-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1</span>
                            <button id="ordersNextBtn" class="btn btn-secondary">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
                        </div>
                        </div>
                        <div class="audit-pagination">
                            <button class="btn btn-sm" onclick="loadAuditLog(currentAuditOffset - 50)" id="auditPrevBtn" disabled>&larr; –ù–∞–∑–∞–¥</button>
                            <span id="auditPageInfo">1-50</span>
                            <button class="btn btn-sm" onclick="loadAuditLog(currentAuditOffset + 50)" id="auditNextBtn">–í–ø–µ—Ä–µ–¥ &rarr;</button>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="js/admin.js?v=1768238956"></script>
    <script src="js/dashboard.js?v=1768238956"></script>
</body>
</html>
